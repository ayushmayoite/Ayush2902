{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///E:/ourwebsite_copy_2026-02-21/lib/db.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || \"https://erpweaiypimorcunaimz.supabase.co\";\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \"sb_publishable_21J6H7rVe81Ray_WLUDgEA_WU9iTNsG\";\r\n\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,sFAA6C;AAG9D,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///E:/ourwebsite_copy_2026-02-21/app/products/%5Bcategory%5D/%5Bid%5D/ProductViewer.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProductViewer = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProductViewer() from the server but ProductViewer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/products/[category]/[id]/ProductViewer.tsx <module evaluation>\",\n    \"ProductViewer\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,gFACA","ignoreList":[0]}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///E:/ourwebsite_copy_2026-02-21/app/products/%5Bcategory%5D/%5Bid%5D/ProductViewer.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProductViewer = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProductViewer() from the server but ProductViewer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/products/[category]/[id]/ProductViewer.tsx\",\n    \"ProductViewer\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,4DACA","ignoreList":[0]}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///E:/ourwebsite_copy_2026-02-21/app/products/%5Bcategory%5D/%5Bid%5D/page.tsx"],"sourcesContent":["import { supabase } from \"@/lib/db\";\r\nimport { notFound } from \"next/navigation\";\r\nimport { ProductViewer } from \"./ProductViewer\";\r\nimport type { Metadata } from \"next\";\r\nimport { Suspense } from \"react\";\r\nimport type { Product, CompatProduct } from \"@/lib/getProducts\";\r\n\r\nconst BASE_URL = \"http://localhost:3000\";\r\n\r\nexport async function generateMetadata({\r\n  params,\r\n}: {\r\n  params: Promise<{ category: string; id: string }>;\r\n}): Promise<Metadata> {\r\n  const { category: categoryId, id } = await params;\r\n\r\n  const { data: product } = await supabase\r\n    .from(\"products\")\r\n    .select(\"*\")\r\n    .eq(\"id\", id)\r\n    .single();\r\n\r\n  if (!product) return {};\r\n\r\n  const title = `${product.name} | One and Only Furniture`;\r\n  const description =\r\n    product.description ||\r\n    `${product.name} â€” premium office furniture from One and Only Furniture.`;\r\n  const image =\r\n    product.flagship_image || \"/images/products/imported/fluid/image-1.webp\";\r\n  const url = `${BASE_URL}/products/${categoryId}/${id}`;\r\n\r\n  return {\r\n    title,\r\n    description,\r\n    alternates: { canonical: url },\r\n    openGraph: {\r\n      title,\r\n      description,\r\n      url,\r\n      type: \"website\",\r\n      images: [{ url: image, width: 800, height: 800, alt: product.name }],\r\n    },\r\n    twitter: {\r\n      card: \"summary_large_image\",\r\n      title,\r\n      description,\r\n      images: [image],\r\n    },\r\n  };\r\n}\r\n\r\nfunction ProductLoadingSkeleton() {\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center\">\r\n      <div className=\"animate-pulse space-y-4 w-full max-w-4xl px-6\">\r\n        <div className=\"h-96 bg-neutral-100 rounded\" />\r\n        <div className=\"h-8 bg-neutral-100 rounded w-1/3\" />\r\n        <div className=\"h-4 bg-neutral-100 rounded w-2/3\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nasync function ProductContent({\r\n  categoryId,\r\n  id,\r\n}: {\r\n  categoryId: string;\r\n  id: string;\r\n}) {\r\n  const { data: rawProduct } = await supabase\r\n    .from(\"products\")\r\n    .select(\"*\")\r\n    .eq(\"id\", id)\r\n    .single();\r\n\r\n  if (!rawProduct) {\r\n    notFound();\r\n  }\r\n\r\n  const p = rawProduct as Product;\r\n\r\n  const compatProduct: CompatProduct = {\r\n    id: p.id,\r\n    name: p.name,\r\n    description: p.description,\r\n    flagshipImage: p.flagship_image,\r\n    sceneImages: p.scene_images || [],\r\n    images: p.images || [],\r\n    variants: p.variants || [],\r\n    detailedInfo: p.detailed_info || {\r\n      overview: \"\",\r\n      features: [],\r\n      dimensions: \"\",\r\n      materials: [],\r\n    },\r\n    metadata: p.metadata || {},\r\n  };\r\n\r\n  const url = `${BASE_URL}/products/${categoryId}/${p.id}`;\r\n  const productJsonLd = {\r\n    \"@context\": \"https://schema.org\",\r\n    \"@type\": \"Product\",\r\n    name: p.name,\r\n    description: p.description,\r\n    image: p.flagship_image,\r\n    url,\r\n    brand: { \"@type\": \"Brand\", name: \"One and Only Furniture\" },\r\n    offers: {\r\n      \"@type\": \"Offer\",\r\n      availability: \"https://schema.org/InStock\",\r\n      priceCurrency: \"INR\",\r\n      seller: { \"@type\": \"Organization\", name: \"One and Only Furniture\" },\r\n    },\r\n    category: p.category,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <script\r\n        type=\"application/ld+json\"\r\n        dangerouslySetInnerHTML={{ __html: JSON.stringify(productJsonLd) }}\r\n      />\r\n      <ProductViewer\r\n        product={compatProduct}\r\n        seriesName={p.series_name}\r\n        categoryRoute={`/products/${p.category_id || categoryId}`}\r\n        categoryId={p.category_id || categoryId}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default async function ProductPage({\r\n  params,\r\n}: {\r\n  params: Promise<{ category: string; id: string }>;\r\n}) {\r\n  const { category: categoryId, id } = await params;\r\n\r\n  return (\r\n    <Suspense fallback={<ProductLoadingSkeleton />}>\r\n      <ProductContent categoryId={categoryId} id={id} />\r\n    </Suspense>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}