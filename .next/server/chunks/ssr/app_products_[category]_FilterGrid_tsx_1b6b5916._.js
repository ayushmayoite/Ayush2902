module.exports=[51990,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(71987),e=a.i(50944),f=a.i(87532),g=a.i(33508),h=a.i(70106);let i=(0,h.default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);var j=a.i(5784);let k=(0,h.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),l=(0,h.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var m=a.i(72131),n=a.i(98621);function o({title:a,count:c,children:d,defaultOpen:e=!1}){let[f,g]=(0,m.useState)(e);return(0,b.jsxs)("div",{className:"border-b border-neutral-100 last:border-0",children:[(0,b.jsxs)("button",{onClick:()=>g(a=>!a),className:"w-full flex items-center justify-between px-4 py-3 text-left group","aria-expanded":f,children:[(0,b.jsxs)("span",{className:"text-[11px] font-bold uppercase tracking-[0.15em] text-neutral-600 group-hover:text-neutral-900 transition-colors flex items-center gap-2",children:[a,void 0!==c&&c>0&&(0,b.jsx)("span",{className:"bg-neutral-900 text-white text-[9px] font-bold rounded-full px-1.5 py-0.5 leading-none",children:c})]}),f?(0,b.jsx)(k,{className:"w-3.5 h-3.5 text-neutral-400"}):(0,b.jsx)(j.ChevronDown,{className:"w-3.5 h-3.5 text-neutral-400"})]}),f&&(0,b.jsx)("div",{className:"px-4 pb-4",children:d})]})}function p({options:a,selected:c,onToggle:d}){return a.length?(0,b.jsx)("ul",{className:"space-y-1.5",children:a.map(a=>(0,b.jsx)("li",{children:(0,b.jsxs)("label",{className:"flex items-center gap-2.5 cursor-pointer group",children:[(0,b.jsx)("input",{type:"checkbox",checked:c.includes(a),onChange:()=>d(a),className:"w-3.5 h-3.5 accent-neutral-900"}),(0,b.jsx)("span",{className:"text-sm text-neutral-600 group-hover:text-neutral-900 transition-colors capitalize",children:a})]})},a))}):(0,b.jsx)("p",{className:"text-xs text-neutral-400 italic",children:"No options available"})}let q=["budget","mid","premium","luxury"];function r({selected:a,onToggle:c}){return(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:q.map(d=>(0,b.jsx)("button",{onClick:()=>c(d),className:(0,n.default)("px-3 py-1.5 text-xs rounded-sm border transition-all capitalize font-medium",a.includes(d)?"bg-neutral-900 text-white border-neutral-900":"bg-white text-neutral-600 border-neutral-200 hover:border-neutral-400"),children:d},d))})}function s({label:a,checked:c,onChange:d}){return(0,b.jsxs)("label",{className:"flex items-center justify-between gap-3 cursor-pointer py-1",children:[(0,b.jsx)("span",{className:"text-sm text-neutral-600",children:a}),(0,b.jsx)("button",{role:"switch","aria-checked":c,onClick:()=>d(!c),className:(0,n.default)("relative w-9 h-5 rounded-full transition-colors flex items-center shrink-0",c?"bg-neutral-900":"bg-neutral-200"),children:(0,b.jsx)("span",{className:(0,n.default)("absolute w-3.5 h-3.5 bg-white rounded-full shadow transition-all",c?"left-[18px]":"left-[3px]")})})]})}function t({product:a,categoryId:e}){let f=a.images&&a.images.length>0?a.images[0]:a.flagshipImage,[g,h]=(0,m.useState)(f||"/images/fallback/category.webp"),i=a.name,j=a.metadata?.sustainabilityScore||0;return(0,b.jsxs)(c.default,{href:`/products/${e}/${a.id}`,className:"group block bg-white border border-neutral-100 hover:border-neutral-300 transition-all duration-200 hover:shadow-sm",children:[(0,b.jsxs)("div",{className:"relative w-full aspect-square bg-stone-50 rounded-md overflow-hidden",children:[(0,b.jsx)(d.default,{src:g,alt:i,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-contain p-4 transition-transform duration-500 group-hover:scale-103",onError:()=>h("/images/fallback/category.webp")}),a.metadata?.bifmaCertified&&(0,b.jsx)("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm text-[10px] sm:text-xs font-bold uppercase tracking-widest text-neutral-600 px-2.5 py-1.5 rounded-sm shadow-sm",children:"BIFMA"}),a.metadata?.priceRange&&(0,b.jsx)("div",{className:"absolute top-2 right-2 bg-neutral-900/75 text-white text-[10px] sm:text-xs font-semibold uppercase tracking-wider px-2.5 py-1.5 rounded-sm shadow-sm",children:a.metadata.priceRange}),j>0&&(0,b.jsxs)("div",{className:(0,n.default)("absolute bottom-2 left-2 text-[10px] sm:text-xs font-bold uppercase tracking-widest px-2.5 py-1.5 rounded-sm shadow-sm",j>7?"bg-green-100/90 text-green-800":"bg-white/90 text-neutral-600"),children:["Eco-Score: ",j,"/10"]})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("p",{className:"text-[10px] uppercase tracking-widest text-neutral-400 font-medium mb-1",children:a.seriesName}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 group-hover:text-neutral-700 transition-colors leading-tight",children:i}),(0,b.jsx)("p",{className:"text-xs text-neutral-500 mt-1 line-clamp-2 leading-relaxed",children:a.description}),a.metadata?.useCase&&a.metadata.useCase.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:a.metadata.useCase.slice(0,2).map(a=>(0,b.jsx)("span",{className:"text-[9px] uppercase tracking-wider font-medium text-neutral-400 bg-neutral-50 px-1.5 py-0.5 rounded-sm",children:a},a))})]})]})}function u({filters:a,onRemove:c,onClearAll:d,total:e}){if(0===e)return null;let f=[];return"all"!==a.series&&f.push({label:`Series: ${a.series}`,key:"series"}),a.subcategory.forEach(a=>f.push({label:a,key:"subcategory",value:a})),a.useCase.forEach(a=>f.push({label:a,key:"useCase",value:a})),a.priceRange.forEach(a=>f.push({label:`${a} range`,key:"priceRange",value:a})),a.material.forEach(a=>f.push({label:a,key:"material",value:a})),a.hasHeadrest&&f.push({label:"With headrest",key:"hasHeadrest"}),a.isHeightAdjustable&&f.push({label:"Height adjustable",key:"isHeightAdjustable"}),a.bifmaCertified&&f.push({label:"BIFMA certified",key:"bifmaCertified"}),a.isStackable&&f.push({label:"Stackable",key:"isStackable"}),a.minEcoScore>0&&f.push({label:`Eco Score >= ${a.minEcoScore}`,key:"minEcoScore"}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 py-3 border-b border-neutral-100",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400",children:"Active:"}),f.map(a=>(0,b.jsxs)("button",{onClick:()=>c(a.key,a.value),className:"flex items-center gap-1.5 bg-neutral-900 text-white text-xs px-2.5 py-1 rounded-sm hover:bg-neutral-700 transition-colors",children:[(0,b.jsx)("span",{className:"capitalize",children:a.label}),(0,b.jsx)(g.X,{className:"w-3 h-3"})]},`${a.key}-${a.value??""}`)),(0,b.jsx)("button",{onClick:d,className:"text-xs text-neutral-500 hover:text-neutral-900 underline transition-colors ml-1",children:"Clear all"})]})}function v({category:a,categoryId:c}){let d,h=(0,e.useRouter)(),j=(0,e.usePathname)(),k=(0,e.useSearchParams)(),[q,v]=(0,m.useState)(!1),w=(0,m.useMemo)(()=>({series:k.get("series")??"all",query:k.get("q")??"",sort:k.get("sort")??"az",subcategory:k.getAll("sub"),useCase:k.getAll("use"),priceRange:k.getAll("price"),material:k.getAll("mat"),hasHeadrest:"1"===k.get("headrest"),isHeightAdjustable:"1"===k.get("height-adj"),bifmaCertified:"1"===k.get("bifma"),isStackable:"1"===k.get("stackable"),minEcoScore:parseInt(k.get("eco")||"0",10)}),[k]),x=(0,m.useMemo)(()=>a.series.flatMap(a=>a.products.map(b=>({...b,seriesId:a.id,seriesName:a.name}))),[a]),y=(0,m.useMemo)(()=>{let a=new Set,b=new Set,c=new Set;return x.forEach(d=>{d.metadata?.subcategory&&a.add(d.metadata.subcategory),d.metadata?.useCase?.forEach(a=>b.add(a)),d.metadata?.material?.forEach(a=>c.add(a))}),{subcategory:[...a].sort(),useCase:[...b].sort(),material:[...c].sort()}},[x]),z=(0,m.useMemo)(()=>{let a=[...x];if("all"!==w.series&&(a=a.filter(a=>a.seriesId===w.series)),w.query.trim()){let b=w.query.trim().toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(b)||a.description.toLowerCase().includes(b))}return w.subcategory.length&&(a=a.filter(a=>a.metadata?.subcategory&&w.subcategory.includes(a.metadata.subcategory))),w.useCase.length&&(a=a.filter(a=>a.metadata?.useCase?.some(a=>w.useCase.includes(a)))),w.priceRange.length&&(a=a.filter(a=>a.metadata?.priceRange&&w.priceRange.includes(a.metadata.priceRange))),w.material.length&&(a=a.filter(a=>a.metadata?.material?.some(a=>w.material.includes(a)))),w.hasHeadrest&&(a=a.filter(a=>a.metadata?.hasHeadrest)),w.isHeightAdjustable&&(a=a.filter(a=>a.metadata?.isHeightAdjustable)),w.bifmaCertified&&(a=a.filter(a=>a.metadata?.bifmaCertified)),w.isStackable&&(a=a.filter(a=>a.metadata?.isStackable)),w.minEcoScore>0&&(a=a.filter(a=>(a.metadata?.sustainabilityScore||0)>=w.minEcoScore)),a.sort((a,b)=>"za"===w.sort?b.name.localeCompare(a.name):a.name.localeCompare(b.name)),a},[x,w]),A=(0,m.useCallback)(a=>{let b,c,d={...w,...a};h.push((b=new URLSearchParams,"all"!==d.series&&b.set("series",d.series),d.query&&b.set("q",d.query),"az"!==d.sort&&b.set("sort",d.sort),d.subcategory.forEach(a=>b.append("sub",a)),d.useCase.forEach(a=>b.append("use",a)),d.priceRange.forEach(a=>b.append("price",a)),d.material.forEach(a=>b.append("mat",a)),d.hasHeadrest&&b.set("headrest","1"),d.isHeightAdjustable&&b.set("height-adj","1"),d.bifmaCertified&&b.set("bifma","1"),d.isStackable&&b.set("stackable","1"),d.minEcoScore>0&&b.set("eco",d.minEcoScore.toString()),(c=b.toString())?`${j}?${c}`:j),{scroll:!1})},[w,h,j]),B=(0,m.useCallback)((a,b)=>{let c=w[a];A({[a]:c.includes(b)?c.filter(a=>a!==b):[...c,b]})},[w,A]),C=(0,m.useCallback)((a,b)=>{if("subcategory"===a||"useCase"===a||"priceRange"===a||"material"===a){let c=w[a];A({[a]:c.filter(a=>a!==b)})}else"hasHeadrest"===a||"isHeightAdjustable"===a||"bifmaCertified"===a||"isStackable"===a?A({[a]:!1}):"minEcoScore"===a?A({minEcoScore:0}):"series"===a&&A({series:"all"})},[w,A]),D=(0,m.useCallback)(()=>{h.push(j,{scroll:!1})},[h,j]),E=(d=0,"all"!==w.series&&d++,w.subcategory.length&&(d+=w.subcategory.length),w.useCase.length&&(d+=w.useCase.length),w.priceRange.length&&(d+=w.priceRange.length),w.material.length&&(d+=w.material.length),w.hasHeadrest&&d++,w.isHeightAdjustable&&d++,w.bifmaCertified&&d++,w.isStackable&&d++,w.minEcoScore>0&&d++,d),F=(0,b.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-4 py-3 border-b border-neutral-100 flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-neutral-500 flex items-center gap-2",children:[(0,b.jsx)(l,{className:"w-3.5 h-3.5"}),"Filters",E>0&&(0,b.jsx)("span",{className:"bg-neutral-900 text-white text-[9px] font-bold rounded-full px-1.5 py-0.5 leading-none",children:E})]}),E>0&&(0,b.jsx)("button",{onClick:D,className:"text-[10px] text-neutral-500 hover:text-neutral-900 underline transition-colors",children:"Clear all"})]}),(0,b.jsx)(o,{title:"Series",count:+("all"!==w.series),defaultOpen:!0,children:(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("button",{onClick:()=>A({series:"all"}),className:(0,n.default)("w-full text-left text-sm py-1.5 px-2 rounded-sm transition-colors","all"===w.series?"bg-neutral-900 text-white font-semibold":"text-neutral-600 hover:bg-neutral-50"),children:"All Series"}),a.series.map(a=>(0,b.jsx)("button",{onClick:()=>A({series:a.id}),className:(0,n.default)("w-full text-left text-sm py-1.5 px-2 rounded-sm transition-colors",w.series===a.id?"bg-neutral-900 text-white font-semibold":"text-neutral-600 hover:bg-neutral-50"),children:a.name},a.id))]})}),y.subcategory.length>0&&(0,b.jsx)(o,{title:"Type",count:w.subcategory.length,defaultOpen:w.subcategory.length>0,children:(0,b.jsx)(p,{options:y.subcategory,selected:w.subcategory,onToggle:a=>B("subcategory",a)})}),y.useCase.length>0&&(0,b.jsx)(o,{title:"Use Case",count:w.useCase.length,defaultOpen:w.useCase.length>0,children:(0,b.jsx)(p,{options:y.useCase,selected:w.useCase,onToggle:a=>B("useCase",a)})}),(0,b.jsx)(o,{title:"Price Range",count:w.priceRange.length,defaultOpen:w.priceRange.length>0,children:(0,b.jsx)(r,{selected:w.priceRange,onToggle:a=>B("priceRange",a)})}),y.material.length>0&&(0,b.jsx)(o,{title:"Material",count:w.material.length,defaultOpen:w.material.length>0,children:(0,b.jsx)(p,{options:y.material,selected:w.material,onToggle:a=>B("material",a)})}),(0,b.jsx)(o,{title:"Features",count:+!!w.hasHeadrest+ +!!w.isHeightAdjustable+ +!!w.bifmaCertified+ +!!w.isStackable,children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(s,{label:"With Headrest",checked:w.hasHeadrest,onChange:a=>A({hasHeadrest:a})}),(0,b.jsx)(s,{label:"Height Adjustable",checked:w.isHeightAdjustable,onChange:a=>A({isHeightAdjustable:a})}),(0,b.jsx)(s,{label:"BIFMA Certified",checked:w.bifmaCertified,onChange:a=>A({bifmaCertified:a})}),(0,b.jsx)(s,{label:"Stackable",checked:w.isStackable,onChange:a=>A({isStackable:a})})]})}),(0,b.jsx)(o,{title:"Sustainability",count:+(w.minEcoScore>0),children:(0,b.jsxs)("div",{className:"space-y-3 pt-1",children:[(0,b.jsxs)("label",{htmlFor:"eco-score-range",className:"text-sm text-neutral-600 block",children:["Min Eco-Score: ",w.minEcoScore]}),(0,b.jsx)("input",{id:"eco-score-range",type:"range",min:"0",max:"10",step:"1",value:w.minEcoScore,onChange:a=>A({minEcoScore:parseInt(a.target.value,10)}),className:"w-full accent-neutral-900"})]})})]});return(0,b.jsxs)("section",{className:"w-full bg-[#f8f9fa]","aria-label":`${a.name} product catalog`,children:[(0,b.jsx)("div",{className:"w-full bg-white border-b border-neutral-200 sticky top-16 z-20",children:(0,b.jsxs)("div",{className:"container-wide py-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[(0,b.jsxs)("button",{onClick:()=>v(!0),className:"lg:hidden flex items-center gap-2 h-10 px-3 bg-white border border-neutral-200 rounded-sm text-sm text-neutral-700 hover:border-neutral-400 transition-colors shrink-0","aria-label":"Open filters",children:[(0,b.jsx)(i,{className:"w-4 h-4"}),"Filters",E>0&&(0,b.jsx)("span",{className:"bg-neutral-900 text-white text-[9px] font-bold rounded-full px-1.5 py-0.5 leading-none",children:E})]}),(0,b.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),(0,b.jsx)("input",{type:"text",placeholder:`Search ${a.name.toLowerCase()}…`,"aria-label":`Search ${a.name}`,className:"w-full h-10 pl-9 pr-8 bg-white border border-neutral-200 rounded-sm text-sm focus:outline-none focus:border-neutral-800 transition-colors",value:w.query,onChange:a=>A({query:a.target.value})}),w.query&&(0,b.jsx)("button",{onClick:()=>A({query:""}),className:"absolute right-3 top-1/2 -translate-y-1/2","aria-label":"Clear search",children:(0,b.jsx)(g.X,{className:"w-3.5 h-3.5 text-neutral-400 hover:text-neutral-800"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 shrink-0",children:[(0,b.jsxs)("span",{"aria-live":"polite","aria-atomic":"true",className:"text-xs text-neutral-500 font-medium whitespace-nowrap",children:[z.length," / ",x.length," products"]}),(0,b.jsxs)("select",{"aria-label":"Sort products",className:"h-10 px-3 bg-white border border-neutral-200 rounded-sm text-sm text-neutral-700 focus:outline-none focus:border-neutral-800",value:w.sort,onChange:a=>A({sort:a.target.value}),children:[(0,b.jsx)("option",{value:"az",children:"Name A–Z"}),(0,b.jsx)("option",{value:"za",children:"Name Z–A"}),(0,b.jsx)("option",{value:"newest",children:"Newest"})]})]})]}),(0,b.jsx)(u,{filters:w,onRemove:C,onClearAll:D,total:E})]})}),(0,b.jsxs)("div",{className:"container-wide py-8 flex gap-8",children:[(0,b.jsx)("aside",{className:"hidden lg:block w-64 shrink-0 self-start sticky top-32",children:F}),(0,b.jsx)("div",{className:"flex-1 min-w-0",children:0===z.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-neutral-100 flex items-center justify-center mb-4",children:(0,b.jsx)(f.Search,{className:"w-5 h-5 text-neutral-400"})}),(0,b.jsx)("p",{className:"text-base font-semibold text-neutral-700 mb-1",children:"No products found"}),(0,b.jsx)("p",{className:"text-sm text-neutral-400 mb-4",children:"Try adjusting your filters or search query"}),(0,b.jsx)("button",{onClick:D,className:"text-sm underline text-neutral-600 hover:text-neutral-900 transition-colors",children:"Clear all filters"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:z.map(a=>(0,b.jsx)("div",{className:"transition-all duration-300 animate-fadein",children:(0,b.jsx)(t,{product:a,categoryId:c})},a.id))})})]}),q&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black/40 z-40 lg:hidden",onClick:()=>v(!1),"aria-hidden":"true"}),(0,b.jsxs)("div",{className:"fixed inset-y-0 left-0 w-80 max-w-full bg-[#f8f9fa] z-50 overflow-y-auto lg:hidden shadow-2xl",role:"dialog","aria-modal":"true","aria-label":"Filter products",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 border-b border-neutral-200 bg-white",children:[(0,b.jsxs)("span",{className:"text-sm font-bold text-neutral-900 flex items-center gap-2",children:[(0,b.jsx)(l,{className:"w-4 h-4"}),"Filters",E>0&&(0,b.jsx)("span",{className:"bg-neutral-900 text-white text-[9px] font-bold rounded-full px-1.5 py-0.5 leading-none",children:E})]}),(0,b.jsx)("button",{onClick:()=>v(!1),"aria-label":"Close filters",children:(0,b.jsx)(g.X,{className:"w-5 h-5 text-neutral-500 hover:text-neutral-900"})})]}),(0,b.jsx)("div",{className:"p-4",children:F}),(0,b.jsxs)("div",{className:"sticky bottom-0 bg-white border-t border-neutral-100 p-4 flex gap-2",children:[E>0&&(0,b.jsx)("button",{onClick:()=>{D(),v(!1)},className:"flex-1 h-10 border border-neutral-200 text-sm text-neutral-700 rounded-sm hover:bg-neutral-50 transition-colors",children:"Clear all"}),(0,b.jsxs)("button",{onClick:()=>v(!1),className:"flex-1 h-10 bg-neutral-900 text-white text-sm rounded-sm hover:bg-neutral-700 transition-colors font-medium",children:["View ",z.length," results"]})]})]})]})]})}function w({category:a,categoryId:c}){return(0,b.jsx)(m.Suspense,{fallback:(0,b.jsx)("div",{className:"w-full h-64 flex items-center justify-center text-neutral-400 text-sm",children:"Loading products…"}),children:(0,b.jsx)(v,{category:a,categoryId:c})})}a.s(["FilterGrid",()=>w],51990)}];

//# sourceMappingURL=app_products_%5Bcategory%5D_FilterGrid_tsx_1b6b5916._.js.map